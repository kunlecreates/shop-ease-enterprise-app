global:
  imagePullPolicy: IfNotPresent
  otel:
    collectorEndpoint: http://otel-collector.operators:4317
  imagePullSecretName: ghcr-pull-secret
  # Frontend namespace used in NetworkPolicies when allowedNamespaces not explicitly set
  frontendNamespace: shopease-frontend
  ingress:
    enabled: true
    className: nginx
    hosts:
      - host: shop.kunlecreates.org
        paths:
          - path: /
            pathType: Prefix
services:
  user:
    image: user-service
    tag: "staging-${GITHUB_SHA_SHORT}"
    resources:
      requests:
        cpu: 200m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    # env moved to services/user-service/helm/values.yaml (service-owned defaults)
    networkPolicy:
      allowedNamespaces:
        - shopease-frontend
        - arc-system  # GitHub Actions Runner Controller namespace for API tests
        - arc-runners # GitHub Actions runner pods namespace
  product:
    image: product-service
    tag: "staging-${GITHUB_SHA_SHORT}"
    resources:
      requests:
        cpu: 200m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    # env moved to services/product-service/helm/values.yaml (service-owned defaults)
    networkPolicy:
      allowedNamespaces:
        - shopease-frontend
        - arc-system  # GitHub Actions Runner Controller namespace for API tests
        - arc-runners # GitHub Actions runner pods namespace
  order:
    image: order-service
    tag: "staging-${GITHUB_SHA_SHORT}"
    resources:
      requests:
        cpu: 200m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    # env moved to services/order-service/helm/values.yaml (service-owned defaults)
    networkPolicy:
      allowedNamespaces:
        - shopease-frontend
        - arc-system  # GitHub Actions Runner Controller namespace for API tests
        - arc-runners # GitHub Actions runner pods namespace
  notification:
    image: notification-service
    tag: "staging-${GITHUB_SHA_SHORT}"
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 300m
        memory: 256Mi
    # env moved to services/notification-service/helm/values.yaml (service-owned defaults)
    networkPolicy:
      allowedNamespaces:
        - shopease-frontend
        - shopease-order        # Allow order-service to send notification requests
        - arc-system            # GitHub Actions Runner Controller namespace for API tests
        - arc-runners           # GitHub Actions runner pods namespace
frontend:
  image: shopease-frontend
  tag: "staging-${GITHUB_SHA_SHORT}"
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 300m
      memory: 256Mi
    # frontend env moved to frontend/helm/values.yaml (service-owned defaults)
  networkPolicy:
    backendNamespaces:
      - shopease-product
      - shopease-user
      - shopease-order
      - shopease-notification
autoscaling:
  enabled: true
  frontend:
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
  product:
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
  user:
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
  order:
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
  notification:
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70